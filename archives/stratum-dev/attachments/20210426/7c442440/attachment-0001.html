<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Stratum&nbsp;folks,&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; It&nbsp;appears&nbsp;that&nbsp;traffic&nbsp;is&nbsp;not&nbsp;forwarded&nbsp;by&nbsp;the&nbsp;BMv2&nbsp;standalone&nbsp;instances.&nbsp;Here&nbsp;are&nbsp;more&nbsp;details:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.&nbsp;I&nbsp;used&nbsp;Max&#39;s&nbsp;instructions&nbsp;to&nbsp;create&nbsp;standalone&nbsp;BMv2&nbsp;instances&nbsp;running&nbsp;on&nbsp;Debian&nbsp;10.&lt;/div&gt;&lt;div&gt;2.&nbsp;I&nbsp;created&nbsp;an&nbsp;SdnTest&nbsp;app&nbsp;on&nbsp;ONOS&nbsp;with&nbsp;the&nbsp;identical&nbsp;pipeconf,&nbsp;bmv2.json,&nbsp;and&nbsp;p4info.txt&nbsp;files&nbsp;from&nbsp;the&nbsp;ngsdn-tutorial&nbsp;app&nbsp;(i.e.&nbsp;the&nbsp;same&nbsp;working&nbsp;versions&nbsp;of&nbsp;these&nbsp;files&nbsp;from&nbsp;the&nbsp;ngsdn-tutorial&nbsp;VM&nbsp;are&nbsp;used&nbsp;in&nbsp;a&nbsp;different&nbsp;setup&nbsp;with&nbsp;a&nbsp;different&nbsp;ONOS&nbsp;controller&nbsp;and&nbsp;6&nbsp;standalone&nbsp;bmv2&nbsp;switches).&nbsp;(&lt;a&nbsp;href=&quot;https://github.com/opennetworkinglab/ngsdn-tutorial&quot;&gt;https://github.com/opennetworkinglab/ngsdn-tutorial&lt;/a&gt;).&lt;/div&gt;&lt;div&gt;3.&nbsp;I&nbsp;created&nbsp;a&nbsp;custom&nbsp;6-node&nbsp;Clos&nbsp;topology&nbsp;and&nbsp;I&#39;ve&nbsp;attached&nbsp;the&nbsp;corresponding&nbsp;netcfg.json&nbsp;in&nbsp;the&nbsp;tarball.&lt;/div&gt;&lt;div&gt;4.&nbsp;Onos&nbsp;starts&nbsp;up&nbsp;just&nbsp;fine&nbsp;and&nbsp;I&nbsp;ensure&nbsp;that&nbsp;all&nbsp;apps&nbsp;(similar&nbsp;to&nbsp;the&nbsp;ones&nbsp;running&nbsp;on&nbsp;ngsdn-tutorial)&nbsp;are&nbsp;fired-up&nbsp;(See&nbsp;onos_cli_log&nbsp;in&nbsp;attached).&lt;/div&gt;&lt;div&gt;5.&nbsp;I&nbsp;then&nbsp;push&nbsp;netcfg.json&nbsp;to&nbsp;onos,&nbsp;and&nbsp;the&nbsp;onos&nbsp;logs&nbsp;show&nbsp;a&nbsp;few&nbsp;&quot;Failed&nbsp;to&nbsp;register&nbsp;Bandwidth&quot;&nbsp;and&nbsp;&quot;Failed&nbsp;to&nbsp;register&nbsp;Port&quot;&nbsp;errors&nbsp;(See&nbsp;onos_log&nbsp;in&nbsp;attached&nbsp;tarball):&nbsp;Note:&nbsp;After&nbsp;digging&nbsp;a&nbsp;bit,&nbsp;it&nbsp;appears&nbsp;that&nbsp;these&nbsp;messages&nbsp;originate&nbsp;from&nbsp;ResourceDeviceListener.java&nbsp;on&nbsp;line&nbsp;162&nbsp;when&nbsp;&quot;log.isTraceEnabled()&quot;&nbsp;is&nbsp;not&nbsp;set&nbsp;in&nbsp;ConsistentResourceStore&nbsp;on&nbsp;line&nbsp;122&nbsp;(So&nbsp;this&nbsp;essentially&nbsp;may&nbsp;not&nbsp;be&nbsp;an&nbsp;issue?).&nbsp;In&nbsp;any&nbsp;case,&nbsp;onos_cli_log&nbsp;shows&nbsp;that&nbsp;all&nbsp;devices&nbsp;are&nbsp;connected&nbsp;and&nbsp;available.&nbsp;Interestingly,&nbsp;the &quot;Tx&quot;&nbsp;portstat&nbsp;remains&nbsp;at&nbsp;0.&nbsp;Given&nbsp;the&nbsp;fact&nbsp;the&nbsp;the&nbsp;lldpprovider&nbsp;app&nbsp;is&nbsp;running,&nbsp;I&nbsp;would&nbsp;expect&nbsp;at&nbsp;least&nbsp;LLDP&nbsp;traffic&nbsp;to&nbsp;be&nbsp;flowing.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;6.&nbsp;As&nbsp;an&nbsp;example,&nbsp;I&nbsp;logged&nbsp;onto&nbsp;leaf1&nbsp;to&nbsp;take&nbsp;a&nbsp;look&nbsp;at&nbsp;the&nbsp;logs,&nbsp;and&nbsp;from&nbsp;the&nbsp;terminal,&nbsp;I&nbsp;see&nbsp;the&nbsp;following&nbsp;(See&nbsp;leaf1_stratum_terminal_log&nbsp;for&nbsp;more&nbsp;details):&lt;/div&gt;&lt;div&gt;&quot;&quot;&quot;&lt;br&gt;&lt;/div&gt;&lt;div&gt;E20210426&nbsp;16:01:18.918056&nbsp; 5458&nbsp;p4_service.cc:311]&nbsp;Failed&nbsp;to&nbsp;write&nbsp;forwarding&nbsp;entries&nbsp;to&nbsp;node&nbsp;1:&lt;br&gt;&lt;/div&gt;&lt;div&gt;&quot;&quot;&quot;&lt;/div&gt;&lt;div&gt;So&nbsp;when&nbsp;the&nbsp;switch&nbsp;starts&nbsp;up,&nbsp;the&nbsp;initial&nbsp;&quot;chassis_config_file&quot;&nbsp;lists&nbsp;all&nbsp;8&nbsp;ports&nbsp;on&nbsp;all&nbsp;switches.&nbsp;However,&nbsp;netcfg.json&nbsp;specifies&nbsp;6&nbsp;of&nbsp;the&nbsp;8.&nbsp;When&nbsp;I&nbsp;take&nbsp;a&nbsp;look&nbsp;through&nbsp;the&nbsp;onos&nbsp;web&nbsp;GUI,&nbsp;I&nbsp;still&nbsp;see&nbsp;all&nbsp;8&nbsp;ports&nbsp;which&nbsp;implies&nbsp;that&nbsp;perhaps&nbsp;there&nbsp;may&nbsp;be&nbsp;issues&nbsp;pushing&nbsp;the&nbsp;updated&nbsp;chassis_config_file&nbsp;to&nbsp;the&nbsp;switch?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;7.&nbsp;When&nbsp;I&nbsp;look&nbsp;through&nbsp;the&nbsp;details&nbsp;debug&nbsp;log&nbsp;for&nbsp;leaf1&nbsp;(see&nbsp;leaf1_log_written_to_file),&nbsp;I&nbsp;only&nbsp;see&nbsp;1&nbsp;LLDP&nbsp;pkt&nbsp;(i.e.&nbsp;ethtype&nbsp;88cc),&nbsp;though&nbsp;tcpdump&nbsp;from&nbsp;the&nbsp;controller&nbsp;shows&nbsp;that&nbsp;the&nbsp;controller&nbsp;is&nbsp;indeed&nbsp;sending&nbsp;numerous&nbsp;discovery&nbsp;pkts.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;PS.&nbsp;I&#39;ve&nbsp;attached&nbsp;a&nbsp;tarball&nbsp;with&nbsp;the&nbsp;various&nbsp;log&nbsp;files&nbsp;and&nbsp;a&nbsp;ReadMe&nbsp;describing&nbsp;the&nbsp;contents&nbsp;of&nbsp;each&nbsp;file.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Can&nbsp;you&nbsp;kindly&nbsp;provide&nbsp;feedback&nbsp;on&nbsp;perhaps&nbsp;why&nbsp;traffic&nbsp;(at&nbsp;least&nbsp;LLDP)&nbsp;is&nbsp;not&nbsp;forwarded&nbsp;by&nbsp;the&nbsp;switches?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;BTW.&nbsp;I&nbsp;also&nbsp;tried&nbsp;to&nbsp;connect&nbsp;to&nbsp;leaf1&nbsp;via&nbsp;&quot;util/p4rt-sh&quot;,&nbsp;install&nbsp;flow&nbsp;rules&nbsp;to&nbsp;foward&nbsp;traffic&nbsp;between&nbsp;ports&nbsp;5&nbsp;and&nbsp;6,&nbsp;but&nbsp;a&nbsp;quick&nbsp;ping&nbsp;showed&nbsp;that&nbsp;traffic&nbsp;was&nbsp;not&nbsp;flowing:&nbsp;I&nbsp;also&nbsp;used&nbsp;tcpdump&nbsp;on&nbsp;leaf1&nbsp;to&nbsp;verify&nbsp;that&nbsp;indeed&nbsp;no&nbsp;pkts&nbsp;were&nbsp;making&nbsp;it&nbsp;on&nbsp;ports&nbsp;5&nbsp;and&nbsp;6&nbsp;(except&nbsp;dhcp&nbsp;which&nbsp;is&nbsp;expected).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;-Syd&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
