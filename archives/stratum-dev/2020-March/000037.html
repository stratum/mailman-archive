<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [stratum-dev] Update Bazel version to 2.2.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stratum-dev%40lists.stratumproject.org?Subject=Re%3A%20%5Bstratum-dev%5D%20Update%20Bazel%20version%20to%202.2.0&In-Reply-To=%3C40bdc55540b94798943fba43a9703039%40kau.se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="000036.html">
   <LINK REL="Next"  HREF="000034.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stratum-dev] Update Bazel version to 2.2.0</H1>
    <B>Deval Bhamare</B> 
    <A HREF="mailto:stratum-dev%40lists.stratumproject.org?Subject=Re%3A%20%5Bstratum-dev%5D%20Update%20Bazel%20version%20to%202.2.0&In-Reply-To=%3C40bdc55540b94798943fba43a9703039%40kau.se%3E"
       TITLE="[stratum-dev] Update Bazel version to 2.2.0">Deval.Bhamare at kau.se
       </A><BR>
    <I>Thu Mar  5 19:58:52 UTC 2020</I>
    <P><UL>
        <LI>Previous message (by thread): <A HREF="000036.html">[stratum-dev] Update Bazel version to 2.2.0
</A></li>
        <LI>Next message (by thread): <A HREF="000034.html">[stratum-dev] Update Bazel version to 2.2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37">[ date ]</a>
              <a href="thread.html#37">[ thread ]</a>
              <a href="subject.html#37">[ subject ]</a>
              <a href="author.html#37">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear Carmelo,
First of all, the link below is not working.

Also,
As per the reply from Yi on 25th Feb,


&quot;The public container images include a specific Barefoot Linux kernel module.

Now we only compile the module for kernels from OpenNetworkLiunx (3.16, 4.9, and 4.14)&quot;.


My Linux kernel is: 4.4.0-173-generic



And hence I am using the containerised dev environment as mentioned here: <A HREF="https://github.com/stratum/stratum/blob/master/stratum/hal/bin/barefoot/README.md">https://github.com/stratum/stratum/blob/master/stratum/hal/bin/barefoot/README.md</A>

But I am getting errors as I have mentioned in my earlier thread.

Thanks,
Deval.


________________________________
From: Carmelo Cascone &lt;<A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">carmelo at opennetworking.org</A>&gt;
Sent: Thursday, March 5, 2020 9:54:32 PM
To: Deval Bhamare
Cc: Yi Tseng; <A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev at lists.stratumproject.org</A>
Subject: Re: [stratum-dev] Update Bazel version to 2.2.0

Hi Deval,

While the Stratum experts figure out why you are seeing this issue (nightly builds seems to work well in our CI system), I want to make sure you really need to build stratum_bf from scratch.

Are you looking to make changes to Stratum or simply using it? If you don't need to make changes, then I would suggest downloading one of the pre-built Docker images as explained here:
<A HREF="https://github.com/opennetworkinglab/stratum/tree/master/stratum/hal/bin/barefoot/docker">https://github.com/opennetworkinglab/stratum/tree/master/stratum/hal/bin/barefoot/docker</A>

Hope it helps
Carmelo

On Thu, Mar 5, 2020 at 11:46 AM Deval Bhamare via stratum-dev &lt;<A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev at lists.stratumproject.org</A>&lt;mailto:<A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev at lists.stratumproject.org</A>&gt;&gt; wrote:

Also, as per your suggestion here: <A HREF="https://github.com/stratum/stratum/issues/17">https://github.com/stratum/stratum/issues/17</A>


I downloaded the repo (from here <A HREF="https://github.com/stratum/stratum#development-environment">https://github.com/stratum/stratum#development-environment</A> ) and I am getting error (bunch of them) as follows:

My Bazel is 2.2.0

I did setup the dev environment with:

./setup_dev_env.sh --pull



ERROR: /stratum/stratum/hal/bin/barefoot/BUILD:26:1: Linking of rule '//stratum/hal/bin/barefoot:stratum_bf' failed (Exit 1) gcc failed: error executing command /usr/bin/gcc @bazel-out/k8-fastbuild/bin/stratum/hal/bin/barefoot/stratum_bf-2.params


Use --sandbox_debug to see verbose messages from the sandbox

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi.pic.o:pi.c:function pi_init: error: undefined reference to '_pi_init'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi.pic.o:pi.c:function pi_assign_device: error: undefined reference to '_pi_assign_device'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi.pic.o:pi.c:function pi_update_device_start: error: undefined reference to '_pi_update_device_start'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi.pic.o:pi.c:function pi_update_device_end: error: undefined reference to '_pi_update_device_end'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi.pic.o:pi.c:function pi_remove_device: error: undefined reference to '_pi_remove_device'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi.pic.o:pi.c:function pi_session_init: error: undefined reference to '_pi_session_init'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi.pic.o:pi.c:function pi_session_cleanup: error: undefined reference to '_pi_session_cleanup'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi.pic.o:pi.c:function pi_batch_begin: error: undefined reference to '_pi_batch_begin'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi.pic.o:pi.c:function pi_batch_end: error: undefined reference to '_pi_batch_end'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi.pic.o:pi.c:function pi_destroy: error: undefined reference to '_pi_destroy'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi.pic.o:pi.c:function pi_packetout_send: error: undefined reference to '_pi_packetout_send'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi.pic.o:pi.c:function pi_port_status_get: error: undefined reference to '_pi_port_status_get'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_act_prof.pic.o:pi_act_prof.c:function pi_act_prof_mbr_create: error: undefined reference to '_pi_act_prof_mbr_create'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_act_prof.pic.o:pi_act_prof.c:function pi_act_prof_mbr_delete: error: undefined reference to '_pi_act_prof_mbr_delete'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_act_prof.pic.o:pi_act_prof.c:function pi_act_prof_mbr_modify: error: undefined reference to '_pi_act_prof_mbr_modify'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_act_prof.pic.o:pi_act_prof.c:function pi_act_prof_grp_create: error: undefined reference to '_pi_act_prof_grp_create'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_act_prof.pic.o:pi_act_prof.c:function pi_act_prof_grp_delete: error: undefined reference to '_pi_act_prof_grp_delete'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_act_prof.pic.o:pi_act_prof.c:function pi_act_prof_grp_add_mbr: error: undefined reference to '_pi_act_prof_grp_add_mbr'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_act_prof.pic.o:pi_act_prof.c:function pi_act_prof_grp_remove_mbr: error: undefined reference to '_pi_act_prof_grp_remove_mbr'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_act_prof.pic.o:pi_act_prof.c:function pi_act_prof_grp_set_mbrs: error: undefined reference to '_pi_act_prof_grp_set_mbrs'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_act_prof.pic.o:pi_act_prof.c:function pi_act_prof_grp_activate_mbr: error: undefined reference to '_pi_act_prof_grp_activate_mbr'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_act_prof.pic.o:pi_act_prof.c:function pi_act_prof_grp_deactivate_mbr: error: undefined reference to '_pi_act_prof_grp_deactivate_mbr'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_act_prof.pic.o:pi_act_prof.c:function pi_act_prof_entries_fetch: error: undefined reference to '_pi_act_prof_entries_fetch'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_act_prof.pic.o:pi_act_prof.c:function pi_act_prof_mbr_fetch: error: undefined reference to '_pi_act_prof_mbr_fetch'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_act_prof.pic.o:pi_act_prof.c:function pi_act_prof_grp_fetch: error: undefined reference to '_pi_act_prof_grp_fetch'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_act_prof.pic.o:pi_act_prof.c:function pi_act_prof_entries_fetch_done: error: undefined reference to '_pi_act_prof_entries_fetch_done'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_act_prof.pic.o:pi_act_prof.c:function pi_act_prof_api_support: error: undefined reference to '_pi_act_prof_api_support'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_tables.pic.o:pi_tables.c:function pi_table_entry_add: error: undefined reference to '_pi_table_entry_add'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_tables.pic.o:pi_tables.c:function pi_table_default_action_set: error: undefined reference to '_pi_table_default_action_set'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_tables.pic.o:pi_tables.c:function pi_table_default_action_reset: error: undefined reference to '_pi_table_default_action_reset'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_tables.pic.o:pi_tables.c:function pi_table_default_action_get: error: undefined reference to '_pi_table_default_action_get'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_tables.pic.o:pi_tables.c:function pi_table_default_action_done: error: undefined reference to '_pi_table_default_action_done'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_tables.pic.o:pi_tables.c:function pi_table_default_action_get_handle: error: undefined reference to '_pi_table_default_action_get_handle'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_tables.pic.o:pi_tables.c:function pi_table_entry_delete: error: undefined reference to '_pi_table_entry_delete'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_tables.pic.o:pi_tables.c:function pi_table_entry_delete_wkey: error: undefined reference to '_pi_table_entry_delete_wkey'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_tables.pic.o:pi_tables.c:function pi_table_entry_modify: error: undefined reference to '_pi_table_entry_modify'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_tables.pic.o:pi_tables.c:function pi_table_entry_modify_wkey: error: undefined reference to '_pi_table_entry_modify_wkey'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_tables.pic.o:pi_tables.c:function pi_table_entries_fetch: error: undefined reference to '_pi_table_entries_fetch'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_tables.pic.o:pi_tables.c:function pi_table_entries_fetch_one: error: undefined reference to '_pi_table_entries_fetch_one'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_tables.pic.o:pi_tables.c:function pi_table_entries_fetch_wkey: error: undefined reference to '_pi_table_entries_fetch_wkey'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_tables.pic.o:pi_tables.c:function pi_table_entries_fetch_done: error: undefined reference to '_pi_table_entries_fetch_done'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_tables.pic.o:pi_tables.c:function pi_table_idle_timeout_config_set: error: undefined reference to '_pi_table_idle_timeout_config_set'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_tables.pic.o:pi_tables.c:function pi_table_entry_get_remaining_ttl: error: undefined reference to '_pi_table_entry_get_remaining_ttl'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_meter.pic.o:pi_meter.c:function pi_meter_read: error: undefined reference to '_pi_meter_read'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_meter.pic.o:pi_meter.c:function pi_meter_set: error: undefined reference to '_pi_meter_set'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_meter.pic.o:pi_meter.c:function pi_meter_read_direct: error: undefined reference to '_pi_meter_read_direct'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_meter.pic.o:pi_meter.c:function pi_meter_set_direct: error: undefined reference to '_pi_meter_set_direct'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_mc.pic.o:pi_mc.c:function pi_mc_session_init: error: undefined reference to '_pi_mc_session_init'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_mc.pic.o:pi_mc.c:function pi_mc_session_cleanup: error: undefined reference to '_pi_mc_session_cleanup'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_mc.pic.o:pi_mc.c:function pi_mc_grp_create: error: undefined reference to '_pi_mc_grp_create'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_mc.pic.o:pi_mc.c:function pi_mc_grp_delete: error: undefined reference to '_pi_mc_grp_delete'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_mc.pic.o:pi_mc.c:function pi_mc_node_create: error: undefined reference to '_pi_mc_node_create'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_mc.pic.o:pi_mc.c:function pi_mc_node_modify: error: undefined reference to '_pi_mc_node_modify'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_mc.pic.o:pi_mc.c:function pi_mc_node_delete: error: undefined reference to '_pi_mc_node_delete'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_mc.pic.o:pi_mc.c:function pi_mc_grp_attach_node: error: undefined reference to '_pi_mc_grp_attach_node'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_mc.pic.o:pi_mc.c:function pi_mc_grp_detach_node: error: undefined reference to '_pi_mc_grp_detach_node'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_learn.pic.o:pi_learn.c:function pi_learn_config_set: error: undefined reference to '_pi_learn_config_set'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_learn.pic.o:pi_learn.c:function pi_learn_msg_ack: error: undefined reference to '_pi_learn_msg_ack'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_learn.pic.o:pi_learn.c:function pi_learn_msg_done: error: undefined reference to '_pi_learn_msg_done'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_counter.pic.o:pi_counter.c:function pi_counter_read: error: undefined reference to '_pi_counter_read'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_counter.pic.o:pi_counter.c:function pi_counter_write: error: undefined reference to '_pi_counter_write'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_counter.pic.o:pi_counter.c:function pi_counter_read_direct: error: undefined reference to '_pi_counter_read_direct'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_counter.pic.o:pi_counter.c:function pi_counter_write_direct: error: undefined reference to '_pi_counter_write_direct'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_counter.pic.o:pi_counter.c:function pi_counter_hw_sync: error: undefined reference to '_pi_counter_hw_sync'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_clone.pic.o:pi_clone.c:function pi_clone_session_set: error: undefined reference to '_pi_clone_session_set'

bazel-out/k8-fastbuild/bin/external/com_github_p4lang_PI_bf_9_1_0/_objs/pi/pi_clone.pic.o:pi_clone.c:function pi_clone_session_reset: error: undefined reference to '_pi_clone_session_reset'

collect2: error: ld returned 1 exit status

Target //stratum/hal/bin/barefoot:stratum_bf failed to build

Use --verbose_failures to see the command lines of failed build steps.

INFO: Elapsed time: 95.850s, Critical Path: 56.95s

INFO: 1141 processes: 1141 processwrapper-sandbox.

FAILED: Build did NOT complete successfully



So how should I proceed now. Please suggest.


Thanks,


Deval.


________________________________
From: stratum-dev &lt;<A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev-bounces at lists.stratumproject.org</A>&lt;mailto:<A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev-bounces at lists.stratumproject.org</A>&gt;&gt; on behalf of Deval Bhamare via stratum-dev &lt;<A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev at lists.stratumproject.org</A>&lt;mailto:<A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev at lists.stratumproject.org</A>&gt;&gt;
Sent: Thursday, March 5, 2020 5:10:49 PM
To: Yi Tseng; <A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev at lists.stratumproject.org</A>&lt;mailto:<A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev at lists.stratumproject.org</A>&gt;
Subject: Re: [stratum-dev] Update Bazel version to 2.2.0


Hi,


So as per the suggestions in the errors, and further suggestions, I commented out the single_file attribute in the repository rule in pip.bzl.


So the build went ahead and now I am getting error:


DEBUG: Call stack for the definition of repository 'build_stack_rules_proto' which is a http_archive (rule definition at /home/tofino/.cache/bazel/_bazel_tofino/1b07b1db06ec9ee22c71eac6f0bd4549/external/bazel_tools/tools/build_defs/repo/http.bzl:296:16):

 - &lt;builtin&gt;

 - /stratum/bazel/workspace_rule.bzl:62:5

 - /stratum/bazel/workspace_rule.bzl:144:22

 - /stratum/bazel/deps.bzl:87:9

 - /stratum/WORKSPACE:55:1

ERROR: /stratum/stratum/hal/bin/barefoot/BUILD:24:1: file '//bazel:rules.bzl' does not contain symbol 'stratum_cc_binary'

ERROR: Skipping '//stratum/hal/bin/barefoot:stratum_bf': no such target '//stratum/hal/bin/barefoot:stratum_bf': target 'stratum_bf' not declared in package 'stratum/hal/bin/barefoot' defined by /stratum/stratum/hal/bin/barefoot/BUILD

WARNING: Target pattern parsing failed.

ERROR: no such target '//stratum/hal/bin/barefoot:stratum_bf': target 'stratum_bf' not declared in package 'stratum/hal/bin/barefoot' defined by /stratum/stratum/hal/bin/barefoot/BUILD

INFO: Elapsed time: 29.345s

INFO: 0 processes.

FAILED: Build did NOT complete successfully (1 packages loaded)



No idea how to deal with it. Please suggest.


Thanks,

Deval.



________________________________
From: stratum-dev &lt;<A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev-bounces at lists.stratumproject.org</A>&lt;mailto:<A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev-bounces at lists.stratumproject.org</A>&gt;&gt; on behalf of Deval Bhamare via stratum-dev &lt;<A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev at lists.stratumproject.org</A>&lt;mailto:<A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev at lists.stratumproject.org</A>&gt;&gt;
Sent: Thursday, March 5, 2020 3:04:49 PM
To: Yi Tseng; <A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev at lists.stratumproject.org</A>&lt;mailto:<A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev at lists.stratumproject.org</A>&gt;
Subject: Re: [stratum-dev] Update Bazel version to 2.2.0


Forgot to paste the error message:


ERROR: /home/tofino/.cache/bazel/_bazel_tofino/1b07b1db06ec9ee22c71eac6f0bd4549/external/io_bazel_rules_python/python/pip.bzl:39:25: Traceback (most recent call last):

File &quot;/home/tofino/.cache/bazel/_bazel_tofino/1b07b1db06ec9ee22c71eac6f0bd4549/external/io_bazel_rules_python/python/pip.bzl&quot;, line 37

repository_rule(&lt;2 more arguments&gt;)

File &quot;/home/tofino/.cache/bazel/_bazel_tofino/1b07b1db06ec9ee22c71eac6f0bd4549/external/io_bazel_rules_python/python/pip.bzl&quot;, line 39, in repository_rule

attr.label(allow_files = True, &lt;2 more arguments&gt;)

'single_file' is no longer supported. use allow_single_file instead. You can use --incompatible_disable_deprecated_attr_params=false to temporarily disable this check.

ERROR: error loading package '': Extension file 'python/pip.bzl' has errors

ERROR: error loading package '': Extension file 'python/pip.bzl' has errors

INFO: Elapsed time: 9.195s

INFO: 0 processes.

FAILED: Build did NOT complete successfully (0 packages loaded)



Thanks,


Deval.

________________________________
From: Deval Bhamare
Sent: Thursday, March 5, 2020 3:04:13 PM
To: Yi Tseng; <A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev at lists.stratumproject.org</A>&lt;mailto:<A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev at lists.stratumproject.org</A>&gt;
Subject: Re: [stratum-dev] Update Bazel version to 2.2.0


Hello Yi,


Thanks for the updates. I had reported this earlier as well, but with the Bazel version to 2.2.0 , I get following error:



I also had reported the error I get with previous container image (older Bazel version).


Please suggest. Thank you.

________________________________
From: stratum-dev &lt;<A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev-bounces at lists.stratumproject.org</A>&lt;mailto:<A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev-bounces at lists.stratumproject.org</A>&gt;&gt; on behalf of Yi Tseng via stratum-dev &lt;<A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev at lists.stratumproject.org</A>&lt;mailto:<A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev at lists.stratumproject.org</A>&gt;&gt;
Sent: Thursday, March 5, 2020 2:10:35 AM
To: <A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev at lists.stratumproject.org</A>&lt;mailto:<A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev at lists.stratumproject.org</A>&gt;
Subject: [stratum-dev] Update Bazel version to 2.2.0

Hello Stratum developers:

Today we updated the Bazel version to 2.2.0 (see #84&lt;<A HREF="https://github.com/stratum/stratum/pull/84">https://github.com/stratum/stratum/pull/84</A>&gt;)

Please run ./setup_dev_env.sh --pull to get new Stratum development container image.

Feel free to let us know if you have any questions or issues with new Bazel

Yi Tseng
Member of Technical Staff
Open Networking Foundation
<A HREF="https://www.opennetworking.org/">https://www.opennetworking.org/</A>
_______________________________________________
stratum-dev mailing list
<A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev at lists.stratumproject.org</A>&lt;mailto:<A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">stratum-dev at lists.stratumproject.org</A>&gt;
<A HREF="https://lists.stratumproject.org/listinfo/stratum-dev">https://lists.stratumproject.org/listinfo/stratum-dev</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.stratumproject.org/archives/stratum-dev/attachments/20200305/ca8df62b/attachment-0001.html">https://lists.stratumproject.org/archives/stratum-dev/attachments/20200305/ca8df62b/attachment-0001.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message (by thread): <A HREF="000036.html">[stratum-dev] Update Bazel version to 2.2.0
</A></li>
	<LI>Next message (by thread): <A HREF="000034.html">[stratum-dev] Update Bazel version to 2.2.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37">[ date ]</a>
              <a href="thread.html#37">[ thread ]</a>
              <a href="subject.html#37">[ subject ]</a>
              <a href="author.html#37">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.stratumproject.org/listinfo/stratum-dev">More information about the stratum-dev
mailing list</a><br>
</body></html>
